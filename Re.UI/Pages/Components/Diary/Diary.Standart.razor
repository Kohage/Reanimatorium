@using Newtonsoft.Json;
@using Re.Core.Models
@using Re.UI.Data

<MudGrid>
    <MudItem>
        <MudDatePicker style="width: 150px;" Label="Дата" @bind-Date="date" />
    </MudItem> 
    <MudItem>
        <MudTimePicker style="width: 150px;" Label="Время" @bind-Time="time" />
    </MudItem>
</MudGrid>

<MudGrid>
    <MudItem xs="8">
        

        <MudPaper Style="padding: 10px; margin: 15px 0; width:150%">

            <MudSelect Style="width:50%" T="string" Label="Состояние" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Сonditions)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>

            <MudGrid>

                <MudItem Style="width: 10%;padding: 33px 25px;" Class="d-flex flex-column justify-end"><MudText>Жалобы</MudText></MudItem>


                <MudItem Style="width: 30%; padding: 11px 6px;">

                    <MudSelect T="string" Label="" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.Сomplaints)
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>

                </MudItem>
                <MudItem Style="width: 40%; padding: 11px 6px;">

                    <MudTextField T="string" Label="Жалобы на" Variant="Variant.Text" Text="@standart.ComplaintsAbout" />

                </MudItem>

                <MudItem Style="width: 10%; padding: 33px 0px;">

                    <MudSwitch Class="d-flex justify-end" @bind-Checked="@vash" Color="Color.Primary"
                               Label="ВАШ - "></MudSwitch>
                </MudItem>
                @if (vash)
                {
                    <MudItem Style="width: 6%; padding: 11px 6px;">
                        <MudSelect T="string">
                            @foreach (var item in standart.Vash)
                            {
                                <MudSelectItem Style="margin-bottom: 15px;" Value="@item" />
                            }
                        </MudSelect>
                    </MudItem>
                }

            </MudGrid>

            <MudSelect Style="width:50%" T="string" Label="Сознание" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Conscience)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>


            <MudGrid>

                <MudItem Style="width: 10%;padding: 11px 25px;" Class="d-flex flex-column justify-end"><MudText>RASS</MudText></MudItem>

                <MudItem Style="width: 25%; padding: 11px 6px;">

                    <MudSelect T="string" Label="" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.Rass)
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>

                </MudItem>
                <MudItem Style="width: 65%; padding: 11px 6px;">

                    <MudTextField T="string" Label="" Variant="Variant.Text" Text="@standart.RassThis" />

                </MudItem>

            </MudGrid>

            <MudSelect Style="width:50%" T="string" Label="Кожные покровы" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Skin[0])
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>


            <MudSelect Style="width:50%" T="string" Label="Влажность" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Skin[1])
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
            <MudSelect Style="width:50%" T="string" Label="Цвет" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Skin[2])
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
            <MudSelect Style="width:50%" T="string" Label="Дыхание через" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Breathing)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
             <MudGrid>
                <MudItem Style="width: 10%;padding: 11px 25px;" Class="d-flex flex-column justify-end"><MudText>Экстубирован</MudText></MudItem>
                <MudItem Style="padding: 11px 35px;">
                    <MudSelect Style="width:6%;" T="string" Label="" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.Extubation)
                {
                            <MudSelectItem Value="@item" />
                }
            </MudSelect>
                </MudItem>
                <MudItem Style="width: 30%;padding: 11px 5px;" Class="d-flex flex-column justify-end"><MudText>самостоятельное дыхание эффективно.</MudText></MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem Style="width: 9%;padding: 11px 25px;" Class="d-flex flex-column justify-end"><MudText>ЧДД - </MudText></MudItem>

                <MudItem Style="width: 8%; padding: 11px 1px;">
                    <MudTextField T="string" Label="" Variant="Variant.Text" Text="@standart.CddField" />
                </MudItem>
                <MudItem Style="width: 30%;padding: 11px 15px;" Class="d-flex flex-column justify-end"><MudText>в 1 минуту.</MudText></MudItem>
            </MudGrid>

            <MudGrid>
                <MudItem Style="width: 20%;padding: 11px 25px;" Class="d-flex flex-column justify-end"><MudText>Ингаляция O₂ через </MudText></MudItem>

                <MudItem Style="width: 25%; padding: 11px 1px;">
                    <MudSelect T="string" Label="" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.InhalationO2)
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>
                </MudItem>

                <MudItem Style="width: 16%;padding: 11px 22px;" Class="d-flex flex-column justify-end"><MudText>Скорость потока - </MudText></MudItem>

                <MudItem Style="width: 8%; padding: 11px 11px;">
                    <MudTextField T="string" Label="" Variant="Variant.Text" Text="@standart.SpeedFlow" />
                </MudItem>
                <MudItem Style="width: 10%;padding: 11px 11px;" Class="d-flex flex-column justify-end"><MudText>л/мин.</MudText></MudItem>
            </MudGrid>

            <MudSelect Style="width:50%" T="string" Label="Аускультативно" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in standart.Auscultatory)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>

             <MudGrid>

                <MudItem Style="width: 30%; padding: 11px 11px;">
                    <MudSelect T="string" Label="Ослабление дыхания" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.ShortnessOfBreath[0])
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>
                </MudItem>
           
                <MudItem Style="width: 30%; padding: 11px 6px;">
                    <MudSelect T="string" Label="Стороны" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.ShortnessOfBreath[1])
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>
                </MudItem>
                <MudItem Style="width: 40%; padding: 11px 11px;">
                    <MudTextField T="string" Label="" Variant="Variant.Text" Text="@standart.ShortnessOfBreathInput" />
                </MudItem>
             </MudGrid>

            <MudGrid>

                <MudItem Style="width: 30%; padding: 11px 11px;">
                    <MudSelect T="string" Label="Хрипы" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.Wheezes[0])
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>
                </MudItem>

                <MudItem Style="width: 30%; padding: 11px 6px;">
                    <MudSelect T="string" Label="Стороны" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.Wheezes[1])
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>
                </MudItem>
                <MudItem Style="width: 40%; padding: 11px 11px;">
                    <MudSelect T="string" Label="Характер" AnchorOrigin="Origin.BottomCenter">
                        @foreach (var item in standart.Wheezes[2])
                        {
                            <MudSelectItem Value="@item" />
                        }
                    </MudSelect>
                </MudItem>
            </MudGrid>
            <MudItem Style="width: 100%; padding: 11px 0;">
                <MudSelect T="string" Label="Респираторная поддержка" AnchorOrigin="Origin.BottomCenter">
                    @foreach (var item in standart.RespiratorySupport)
                    {
                        <MudSelectItem Value="@item" />
                    }
                </MudSelect>
            </MudItem>
        </MudPaper>
        
    </MudItem>

</MudGrid>






@code {
    StandartDiary? standart;

    DateTime? date; //дата
    TimeSpan? time; //время
    public bool vash { get; set; } 

    protected override void OnInitialized()
    {
        standart = JsonConvert.DeserializeObject<StandartDiary>(File.ReadAllText
        ("./wwwroot/json/diary.standart.json"));

        date = DateTime.Now; //Дата
        time = DateTime.Now.TimeOfDay; //Время
        vash = false;
    }
}
