@using Re.Core.Models
@using Re.UI.Data

<MudGrid>
    <MudItem xs="8">
        <MudGrid Style="margin-left:180px; margin-top:-55px;" Spacing="10" Justify="Justify.Center">
            <MudItem><MudDatePicker Style="width:150px;" Label="Дата" @bind-Date="date" /></MudItem>
            <MudItem> <MudTimePicker Style="width:150px;" Label="Время" @bind-Time="time" /></MudItem>
        </MudGrid>
    </MudItem>
    <MudDivider Style="margin:35px 0;"></MudDivider>
    <MudText Align="Align.Center" Typo="Typo.h6" Style="margin: auto;">@ep.Name</MudText>
        <MudGrid Style="margin-top:10px; margin-left:150px;">
            <MudGrid>
                <MudItem Style="margin-top:5px;"><MudText>Больной(-ая)</MudText></MudItem>
                <MudItem><MudInput T="string" Variant="Variant.Text" Text="@ep.FIO" Style="width:750px;"></MudInput></MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem Style="margin-top:5px;"><MudText>Возраст</MudText></MudItem>
                <MudItem><MudInput T="string" Variant="Variant.Text" Text="@ep.Age" Style="width:100px;"></MudInput></MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem Style="margin-top:5px;"><MudText>История болезни №</MudText></MudItem>
                <MudItem><MudInput T="string" Variant="Variant.Text" Text="@ep.Number" Style="width:100px;"></MudInput></MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem Style="margin-top:5px;"><MudText>Группа крови и Rh-принадлежность:</MudText></MudItem>
                <MudItem Style="margin-top:-20px;">
                    <MudSelect T="string" AnchorOrigin="Origin.BottomCenter" Style="width:573px;">
                        @foreach (var item in ep.GroupRh)
                    {
                        <MudSelectItem Value="@item" />
                    }
                </MudSelect>
            </MudItem>
        </MudGrid>
        <MudGrid>
            <MudItem Style="margin-top:5px;"><MudText>Диагноз:</MudText></MudItem>
            <MudItem><MudInput T="string" Variant="Variant.Text" Text="@ep.Diagnosis" Style="width:783px;" Lines="3"></MudInput></MudItem>
        </MudGrid>
        <MudGrid>
            <MudItem Style="margin-top:5px;"><MudText>Показания к переливанию компонентов крови:</MudText></MudItem>
            <MudItem Style="margin-top:-20px;">
                <MudSelect T="string" AnchorOrigin="Origin.BottomCenter" Style="width:485px;">
                    @foreach (var item in ep.Indications)
                    {
                        <MudSelectItem Value="@item" />
                    }
                </MudSelect>
            </MudItem>
        </MudGrid>
        <MudGrid>
            <MudItem Style="margin-top:5px;"><MudText>Ранее гемотрансфузии:</MudText></MudItem>
            <MudItem><MudInput T="string" Variant="Variant.Text" Text="@ep.Hemotransfusion" Style="width:670px" Lines="3"></MudInput></MudItem>
        </MudGrid>
    </MudGrid>
    <MudGrid Style="margin-top:10px; margin-left:140px;">
        <MudItem><MudText>Заявка на</MudText></MudItem>
        <MudItem><MudInput T="string" Style="margin-top:-10px; width:80px;" /></MudItem>
        <MudItem><MudText>эритроцитарной взвеси</MudText></MudItem>
        <MudItem>
            <MudSelect T="string" AnchorOrigin="Origin.BottomCenter" Style="margin-top:-21px; width:460px;">
                @foreach (var item in ep.GroupRh)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
        </MudItem>
    </MudGrid>
    <MudGrid Style="margin-top:1px; margin-left:135px;">
        <MudItem>
            <MudCheckBox @bind-Checked="CheckboxChecked" />
        </MudItem>
        <MudItem Style="margin-top:10px"><MudText>и</MudText></MudItem>
        <MudItem><MudInput T="string" Style="margin-top:-10px; width:80px;" Disabled="@CheckboxChecked" /></MudItem>
        <MudItem><MudText>свежезамороженной плазмы</MudText></MudItem>
        <MudItem>
            <MudSelect T="string" AnchorOrigin="Origin.BottomCenter" Style="margin-top:-21px; width:420px;" Disabled="@CheckboxChecked">
                @foreach (var item in ep.GroupRh)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
        </MudItem>
    </MudGrid>
    <MudGrid Style="margin-top:-20px; margin-left:237px;">
        <MudItem><MudInput T="string" Style="margin-top:-10px; width:80px;" Disabled="@(!CheckboxChecked)" /></MudItem>
        <MudItem><MudText>тромбоцитарного концентрата</MudText></MudItem>
        <MudItem>
            <MudSelect T="string" AnchorOrigin="Origin.BottomCenter" Style="margin-top:-21px; width:410px;" Disabled="@(!CheckboxChecked)">
                @foreach (var item in ep.GroupRh)
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
        </MudItem>
    </MudGrid>
    <MudGrid Style="margin-left:150px; margin-top:15px;">
        <MudText>Согласие больного(ой) на гемотрансфузию получено.</MudText>
    </MudGrid>
    <MudGrid Style="margin-left:150px; margin-top:15px;">
        <MudText>Противопоказаний к переливанию компонентов крови нет.</MudText>
    </MudGrid>
    <MudGrid>
        <MudItem><MudDatePicker Style="margin-left:150px; margin-top:50px; width: 150px;" @bind-Date="date" /></MudItem>
    </MudGrid>
    <MudGrid Style="margin-left:660px;">
        <MudItem Class="d-flex flex-column justify-end"><MudText>Лечащий врач</MudText></MudItem>
        <MudItem>
            <MudSelect T="string" AnchorOrigin="Origin.BottomCenter">
                @foreach (var item in ep.Doctor.OrderBy(x => x))
                {
                    <MudSelectItem Value="@item" />
                }
            </MudSelect>
        </MudItem>
    </MudGrid>
    <MudText Style="margin-left:670px;">
        Глав. отделением <span style="text-decoration: underline;">Розенгард С.А.</span>,
    </MudText>
</MudGrid>

@code{
    Hemo ep = new Hemo();
    DateTime? date = DateTime.Now; 
    TimeSpan? time = DateTime.Now.TimeOfDay;
    private bool CheckboxChecked = false;
}